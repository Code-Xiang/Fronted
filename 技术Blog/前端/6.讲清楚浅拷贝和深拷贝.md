å…ˆæ”¾å‡ºå®ç°æµ…æ‹·è´å’Œæ·±æ‹·è´çš„ä¸€äº›æ–¹æ³•ï¼š

1.*æµ…æ‹·è´ï¼š*

æµ…æ‹·è´åœ¨æ‹·è´å¯¹è±¡çš„æ—¶å€™ï¼Œå¯¹äºå¯¹è±¡æœ€å¤–ä¸€å±‚å®ç°çš„æ˜¯æ™®é€šçš„å€¼æ‹·è´ï¼Œå¯¹äºå¯¹è±¡é‡Œé¢çš„å¯¹è±¡æ˜¯æµ…æ‹·è´ï¼Œåªå¤åˆ¶åœ°å€ä¸å¤åˆ¶åœ°å€å¯¹åº”çš„å€¼ã€‚

```javascript
/* 
    æ–¹æ³•1.1ï¼šæ‰©å±•è¿ç®—ç¬¦ï¼ˆæœ€ç®€å•çš„æ–¹å¼ï¼‰
*/
const originalObject = { a: 1, b: 2, c: {d: 3} };
const shallowCopy = { ...originalObject };

originalObject.a = 10;
console.log(originalObject.a); // è¾“å‡º 10
console.log(shallowCopy.a); // è¾“å‡º 1

originalObject.c.d = 11;
console.log(shallowCopy.c.d); // è¾“å‡º 11
console.log(originalObject.c.d); // è¾“å‡º 11
```

```javascript
/* 
    æ–¹æ³•2ï¼šObject.assign()
*/
const originalObject = { a: 1, b: 2, c: { d: 3} };
const shallowCopy = Object.assign({}, originalObject);
originalObject.a = 10;
originalObject.c.d = 11;

console.log(originalObject.a); // è¾“å‡º 10
console.log(shallowCopy.a); // è¾“å‡º 1
console.log(originalObject.c.d); // è¾“å‡º 11
console.log(shallowCopy.c.d); // è¾“å‡º 11

```

```javascript
/* 
  æ–¹æ³•1.3ï¼šè‡ªå®šä¹‰å‡½æ•°å®ç°æµ…æ‹·è´
*/
function shallowCopyFun(obj) {
  // åªæ‹·è´å¯¹è±¡
  if (typeof obj !== 'object' || obj === null) {
      return obj;
  }
  // æ ¹æ® obj çš„ç±»å‹å†³å®šæ–°å¯¹è±¡æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡
  let newObj = Array.isArray(obj) ? [] : {};
  // éå† objï¼Œå¹¶å¤åˆ¶å…¶è‡ªèº«å±æ€§åˆ°æ–°å¯¹è±¡
  for (let key in obj) {
      if (obj.hasOwnProperty(key)) {
          newObj[key] = obj[key];
      }
  }
  return newObj;
}
const originalObject = { a: 1, b: 2, c: { d: 3,e: 4 } };
const shallowCopy = shallowCopyFun(originalObject);

originalObject.a = 10;
console.log(shallowCopy.a); // è¾“å‡º 1
console.log(originalObject.a); // è¾“å‡º 10

originalObject.c.d = 11;
console.log(shallowCopy.c.d); // è¾“å‡º 11
console.log(originalObject.c.d); // è¾“å‡º 11
```



*2.æ·±æ‹·è´*

```javascript
/* 
   æ–¹æ³•2.1ï¼šJsonå¯¹è±¡å®ç°æ·±æ‹·è´
   JSON åºåˆ—åŒ–å’Œååºåˆ—åŒ–
*/
const originalObject = { a: 1, b: { c: 2 } };
const deepCopy = JSON.parse(JSON.stringify(originalObject));

originalObject.b.c = 10;
console.log(originalObject.b.c); // è¾“å‡º 10
console.log(deepCopy.b.c); // è¾“å‡º 2
```

```javascript
/* 
   æ–¹æ³•2.2ï¼šé€’å½’å‡½æ•°å®ç°
*/
function deepCopyFun(obj) {
  // æ£€æŸ¥å€¼æ˜¯å¦æ˜¯å¼•ç”¨ç±»å‹
  if (typeof obj !== "object" || obj === null) {
    return obj;
  }
  if (obj instanceof Date) {
    return new Date(obj);
  }
  if (obj instanceof RegExp) {
    return new RegExp(obj.source, obj.flags);
  }
  if (obj instanceof Function) {
    return obj;
  }
  // åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„æ•°ç»„æˆ–å¯¹è±¡
  let newObj = Array.isArray(obj) ? [] : {};
  for (let key in obj) {
    // ç¡®ä¿å±æ€§å±äºå¯¹è±¡æœ¬èº«ï¼Œä¸æ˜¯ç»§æ‰¿çš„
    if (obj.hasOwnProperty(key)) {
      // é€’å½’å¤åˆ¶æ¯ä¸ªå±æ€§
      newObj[key] = deepCopyFun(obj[key]);
    }
  }
  return newObj;
}
const originalObject = { a: 1, b: { c: 2 } };
const deepCopy = deepCopyFun(originalObject);

originalObject.b.c = 10;
console.log(originalObject.b.c); // è¾“å‡º 10
console.log(deepCopy.b.c); // è¾“å‡º 2

```

```javascript
/* 
  æ–¹æ³•2.3ï¼šconcatå®ç°æ·±æ‹·è´
  concat(arr1, arr2,...)
*/
var arr = [1,2,3]
var newArr = [].concat(arr)
arr.push(4)
console.log('arr:ğŸ‘‰', arr);
console.log('newArr:ğŸ‘‰', newArr);
/* 
  arr:ğŸ‘‰ [ 1, 2, 3, 4 ]
  newArr:ğŸ‘‰ [ 1, 2, 3 ]
*/
```

```javascript
/* 
  æ–¹æ³•2.4ï¼šsliceå®ç°æ·±æ‹·è´
  slice(idx1, idx2)
*/
var arr = [1,2,3]
var newArr = arr.slice()
arr.push(4)
console.log('arr:ğŸ‘‰', arr);
console.log('newArr:ğŸ‘‰', newArr);
/* 
  arr:ğŸ‘‰ [ 1, 2, 3, 4 ]
  newArr:ğŸ‘‰ [ 1, 2, 3 ]
*/
```

```javascript
/* 
  æ–¹æ³•2.5ï¼šlodashå®ç°æ·±æ‹·è´
  
_.cloneDeep(value)
value : è¦æ·±æ‹·è´çš„å€¼ã€‚
è¿”å›æ‹·è´åçš„å€¼
vue ä¸­ä½¿ç”¨ ï¼š
  a. npm i --save lodash     ä¸‹è½½ä¾èµ–
  b. import _ from 'lodash'  åœ¨ ç»„ä»¶ ä¸­å¼•å…¥ 
  c. ç”¨æ³•å’Œä¸‹é¢çš„ä¸€æ · 
*/
var objects = [{ 'a': 1 }, { 'b': 2 }]; 
var deep = _.cloneDeep(objects);
console.log(deep[0] === objects[0]);
// => false
```

```javascript
/* 
  æ–¹æ³•2.6ï¼šæ‰©å±•ç¬¦å®ç°æ·±æ‹·è´
*/
var a=[1,2,3]
var b=[...a];
b.push(4);
console.log(b);//1,2,3,4
console.log(a)//1,2,3
```



ä¸ºä»€ä¹ˆä¼šæœ‰æµ…æ‹·è´å’Œæ·±æ‹·è´ï¼Ÿè¿™è¦ä»`javaScript`æ•°æ®ç±»å‹è¯´èµ·ã€‚åˆ†ä¸ºåŸºç¡€æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹ã€‚

- åŸºç¡€ç±»å‹æ•°æ®éƒ½æ˜¯æŒ‰ç…§å€¼è®¿é—®çš„ï¼Œç›´æ¥ä¿å­˜å’Œä¿®æ”¹åœ¨å˜é‡é‡Œé¢å®é™…çš„å€¼ã€‚
- å¼•ç”¨ç±»å‹æ•°æ®æ˜¯æŒ‰ç…§å¼•ç”¨è®¿é—®çš„ï¼Œå³ä¿å­˜åœ¨å˜é‡å¯¹è±¡ä¸­çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼Œè¯¥åœ°å€ä¸å †å†…å­˜çš„å®é™…å€¼ç›¸å…³è”ã€‚



[link](https://blog.csdn.net/icemwj/article/details/119782133)

[link2](https://blog.csdn.net/icemwj/article/details/119782658)

[link3](https://juejin.cn/post/6994453856063062053)

[link4](https://juejin.cn/post/7294555030727524379)

